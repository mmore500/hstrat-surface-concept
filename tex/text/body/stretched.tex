\section{Stretched Algorithm} \label{sec:stretched}

The stretched criterion favors recent data items, enjoining a record spaced proportionally to data item ingest time $\colorTbar$.
The criterion can be formulated as minimization of the largest ratio of gap size to ingest time,
\begin{align*}
\frac{\colorG_{\colorT}(\colorTbar)}{\colorTbar} \text{ for } \colorTbar > 0.
\end{align*}
For buffer size $\colorS$ and time elapsed $\colorT$, ideal retention would space retained items geometrically by ratio $\colorT^{1/\colorS}$.
Counting from zero, under such a layout the $n$th retained data item would have ingestion time $\colorT^{n/(\colorS - 1)}$.
Neglecting discretization effects, gap size ratio can be minimized at best approximately
\begin{align*}
\frac{\colorG_{\colorT}(\colorTbar)}{\colorTbar}
&\stackrel{\sim}{\geq}
\colorT^{1/\colorS} - 1.
\end{align*}

Accounting for discretization provides a strict lower bound on gap size ratio, presented next.

\input{thm/stretched-ideal-strict}

Next, we propose a stream curation algorithm tailored to the stretched criterion, achieving maximum gap size no worse than,
\begin{align*}
\frac{\colorG_{\colorT}(\colorTbar)}{\colorTbar}
&\leq
\min\Big(
  \frac{2(\colort + \colors)}{\colorS},
  \frac{4\colort}{\colorS}
\Big).
\end{align*}

Unlike the steady algorithm presented in Section \ref{sec:steady}, which supports indevinitely many data ingestions $\colorT$, thewe define our proposed stretched algorithm defines ingest site selection only up to $2^{\colorS}$ data items.
Extension of the stretched algorithm for epoch $\colort > \colorS - \colors$ remains to future work.

\subsection{Strategy}

\input{fig/hsurf-stretched-intuition.tex}

Reservation segments occur in five recursively nested ``bunches'' --- (1) one 6-site reservation segment, (2) one 4-site reservation segment, (3) two 3-site segments, (4) four 2-site segments, and (5) eight 1-site segments.
At each epoch, data items are filled into sites newly-assigned for their ingestion-order hanoi value from left-to-right.
In epoch 0, all sites are filled with a first data item.
At subsequent epochs, the first site of all innermost-nested segments are ``invaded'' by new high h.v. sites added to other segments.
When data items are placed, they remain retained until invaded by a higher-h.v. data item.

% The zeroth h.v. is $s = \log_2(S)$.
% The h.v. s appears for the first time at index 2^s - 1 = S - 1.
Note the correspondence between the recursively nested reservation sizes and the hanoi sequence.
In fact, reservation sizes correspond to $\colors + 1, \colorH(0) + 1, \colorH(1) + 1, \ldots, \colorH(\colorS/2 - 2) + 1$.
The largest h.v. encountered is $\colorH(\colorS/4 - 1) = \left\lfloor \log_2(\colorS/4) \right\rfloor = \colors - 2$.
Note that these reservations fill available space, as
\begin{align*}
\colors + 1
+  \sum_{\colorh = 0}^{\colors - 2}
2^{\colors - 2 - \colorh} \times (\colorh + 1)
&=
\colors + 1 +
2^{\colors} - \colors - 1\\
&\stackrel{\checkmark}{=}
\colorS.
\end{align*}

\subsection{Mechanism}

\input{fig/hsurf-stretched-implementation.tex}

TODO

\subsection{Criterion Satisfaction}

In this final subsection, we establish an upper bound on gap size $\colorg$ for a buffer of size $\colorS$ at time $\colorT$ under the proposed stretched curation algorithm.

\input{thm/stretched-reservation-count}

\input{thm/stretched-gap-size}

Consideration of the gap size bound result found in Theorem \ref{thm:stretched-gap-size} at small and large $\colort$ is instructive.
During the first epoch where $\colort = 1$,
\begin{align*}
\frac{\colorG_{\colorT}(\colorTbar)}{\colorTbar}
\leq
\frac{4}{\colorS}.
\end{align*}

Likewise, during the last supported epoch, where $\colort = \colorS - \colors$,
\begin{align*}
\frac{\colorG_{\colorT}(\colorTbar)}{\colorTbar}
\leq
2.
\end{align*}
